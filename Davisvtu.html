<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Davis Sub VTU Platform</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Configure Tailwind for custom colors and font -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary': '#4f46e5', // Indigo-600
                        'secondary': '#f97316', // Orange-500
                        'data-bg': '#3b82f6', // Blue-500
                        'airtime-bg': '#ef4444', // Red-500
                        'profile-bg': '#a855f7', // Purple-500
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <!-- Load Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        /* General styling for smooth transitions and font */
        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding-top: 5rem; /* Space for fixed header */
            min-height: 100vh;
            background-color: #f3f4f6;
        }
        .page-container {
            transition: background-color 0.5s ease-in-out;
            min-height: calc(100vh - 5rem);
        }
        .nav-item {
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            padding: 0.5rem 0;
        }
        .nav-item:hover {
            color: var(--secondary);
        }
        .active-nav {
            color: #f97316; /* Secondary color */
            border-top: 2px solid #f97316;
            margin-top: -2px; /* Pull up to overlay the border */
        }
        /* Custom form styling */
        .input-field {
            width: 100%;
            padding: 0.75rem 1rem;
            border: 1px solid #d1d5db;
            border-radius: 0.5rem;
            font-size: 1rem;
            transition: border-color 0.2s, box-shadow 0.2s;
        }
        .input-field:focus {
            outline: none;
            border-color: #4f46e5;
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.2);
        }
    </style>
</head>
<body>

    <!-- Fixed Header/Navigation -->
    <header class="fixed top-0 left-0 w-full bg-white shadow-lg z-10">
        <div class="max-w-4xl mx-auto p-4 flex justify-between items-center">
            <h1 class="text-2xl font-black text-primary">David's <span class="text-secondary">Sub</span></h1>
            <div class="text-sm text-gray-500 hidden sm:block">
                VTU Code: <span id="app-code" class="font-mono text-xs text-indigo-500 bg-indigo-50 px-2 py-1 rounded-full">DSUB-2409-NJA7-V1</span>
            </div>
            <button onclick="renderPage('Profile')" class="bg-gray-100 p-2 rounded-full hover:bg-gray-200 transition">
                <i data-lucide="user" class="w-6 h-6 text-primary"></i>
            </button>
        </div>
        <!-- Mobile Navigation Bar -->
        <nav class="sm:hidden border-t border-gray-100 flex justify-around text-gray-600 bg-white">
            <div class="nav-item flex-1" id="nav-Dashboard" onclick="renderPage('Dashboard')">
                <i data-lucide="layout-grid" class="w-5 h-5"></i>
                <span class="text-xs mt-0.5">Home</span>
            </div>
            <div class="nav-item flex-1" id="nav-BuyData" onclick="renderPage('BuyData')">
                <i data-lucide="wifi" class="w-5 h-5"></i>
                <span class="text-xs mt-0.5">Data</span>
            </div>
            <div class="nav-item flex-1" id="nav-BuyAirtime" onclick="renderPage('BuyAirtime')">
                <i data-lucide="phone" class="w-5 h-5"></i>
                <span class="text-xs mt-0.5">Airtime</span>
            </div>
            <div class="nav-item flex-1" id="nav-Profile" onclick="renderPage('Profile')">
                <i data-lucide="settings" class="w-5 h-5"></i>
                <span class="text-xs mt-0.5">Settings</span>
            </div>
        </nav>
    </header>

    <!-- Main Content Area -->
    <main id="app-content" class="page-container p-4 sm:p-6 max-w-4xl mx-auto rounded-lg shadow-xl"></main>

    <script>
        // --- Core Application Logic ---

        const APP_CODE = "DSUB-2409-NJA7-V1";
        const CONTENT_EL = document.getElementById('app-content');
        let currentPage = 'Dashboard';

        // Utility to display confirmation/success messages instead of alert()
        function showMessage(message, type = 'success') {
            const container = document.getElementById('message-box-container');
            if (!container) return;

            const bgColor = type === 'success' ? 'bg-green-100 border-green-400 text-green-700' : 'bg-red-100 border-red-400 text-red-700';
            const icon = type === 'success' ? 'check-circle' : 'alert-triangle';

            container.innerHTML = `
                <div class="p-4 rounded-lg border-l-4 ${bgColor} shadow-md flex items-center mb-4 transition transform duration-300 translate-y-0 opacity-100">
                    <i data-lucide="${icon}" class="w-5 h-5 mr-3 flex-shrink-0"></i>
                    <p class="text-sm font-medium">${message}</p>
                    <button onclick="hideMessage()" class="ml-auto text-current hover:text-opacity-75">
                         <i data-lucide="x" class="w-4 h-4"></i>
                    </button>
                </div>
            `;
            lucide.createIcons();
            setTimeout(hideMessage, 5000);
        }

        function hideMessage() {
            const container = document.getElementById('message-box-container');
            if (container) {
                 container.innerHTML = '';
            }
        }

        // --- Page Components (Return HTML strings) ---

        const DashboardPage = () => {
            return `
                <!-- Dashboard Content - Green/Neutral Theme -->
                <div class="space-y-6">
                    <h2 class="text-3xl font-extrabold text-white mb-6">Hello, David!</h2>

                    <!-- Balance Card -->
                    <div class="bg-white p-6 rounded-xl shadow-lg border-b-4 border-primary">
                        <p class="text-gray-500 font-medium">Wallet Balance</p>
                        <p class="text-4xl font-bold text-gray-900 mt-1">₦ 15,850.50</p>
                        <div class="mt-4 flex space-x-3">
                            <button onclick="showMessage('Fund wallet process initiated.', 'success')" class="flex items-center text-sm px-4 py-2 bg-primary text-white font-medium rounded-full hover:bg-indigo-700 transition">
                                <i data-lucide="plus" class="w-4 h-4 mr-1"></i> Fund
                            </button>
                             <button onclick="showMessage('Statement downloaded successfully.', 'success')" class="flex items-center text-sm px-4 py-2 bg-gray-100 text-gray-700 font-medium rounded-full hover:bg-gray-200 transition">
                                <i data-lucide="download" class="w-4 h-4 mr-1"></i> Statement
                            </button>
                        </div>
                    </div>

                    <!-- Quick Actions -->
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                        <button onclick="renderPage('BuyData')" class="p-4 bg-blue-100 text-blue-800 rounded-xl shadow-md hover:shadow-lg transition transform hover:scale-[1.02]">
                            <i data-lucide="wifi" class="w-8 h-8 mx-auto mb-2"></i>
                            <span class="text-sm font-semibold">Buy Data</span>
                        </button>
                        <button onclick="renderPage('BuyAirtime')" class="p-4 bg-red-100 text-red-800 rounded-xl shadow-md hover:shadow-lg transition transform hover:scale-[1.02]">
                            <i data-lucide="phone" class="w-8 h-8 mx-auto mb-2"></i>
                            <span class="text-sm font-semibold">Buy Airtime</span>
                        </button>
                        <button onclick="showMessage('Utility payment feature is coming soon!', 'error')" class="p-4 bg-yellow-100 text-yellow-800 rounded-xl shadow-md hover:shadow-lg transition transform hover:scale-[1.02]">
                            <i data-lucide="zap" class="w-8 h-8 mx-auto mb-2"></i>
                            <span class="text-sm font-semibold">Pay Bills</span>
                        </button>
                        <button onclick="renderPage('Profile')" class="p-4 bg-purple-100 text-purple-800 rounded-xl shadow-md hover:shadow-lg transition transform hover:scale-[1.02]">
                            <i data-lucide="settings" class="w-8 h-8 mx-auto mb-2"></i>
                            <span class="text-sm font-semibold">Settings</span>
                        </button>
                    </div>

                    <!-- Recent Transactions -->
                    <div class="bg-white p-6 rounded-xl shadow-lg">
                        <h3 class="text-xl font-bold text-gray-800 mb-4">Recent Transactions</h3>
                        <ul class="space-y-3">
                            <li class="flex justify-between items-center py-2 border-b last:border-b-0">
                                <div class="flex items-center">
                                    <div class="p-2 bg-blue-500 rounded-full text-white mr-3"><i data-lucide="wifi" class="w-4 h-4"></i></div>
                                    <div>
                                        <p class="font-medium text-gray-800">MTN 1GB Data</p>
                                        <p class="text-xs text-gray-500">2 minutes ago</p>
                                    </div>
                                </div>
                                <span class="text-red-600 font-semibold">-₦ 250</span>
                            </li>
                            <li class="flex justify-between items-center py-2 border-b last:border-b-0">
                                <div class="flex items-center">
                                    <div class="p-2 bg-green-500 rounded-full text-white mr-3"><i data-lucide="arrow-down-left" class="w-4 h-4"></i></div>
                                    <div>
                                        <p class="font-medium text-gray-800">Wallet Funded</p>
                                        <p class="text-xs text-gray-500">Yesterday, 10:15 AM</p>
                                    </div>
                                </div>
                                <span class="text-green-600 font-semibold">+₦ 5,000</span>
                            </li>
                             <li class="flex justify-between items-center py-2 border-b last:border-b-0">
                                <div class="flex items-center">
                                    <div class="p-2 bg-red-500 rounded-full text-white mr-3"><i data-lucide="phone" class="w-4 h-4"></i></div>
                                    <div>
                                        <p class="font-medium text-gray-800">Airtel Airtime</p>
                                        <p class="text-xs text-gray-500">3 days ago</p>
                                    </div>
                                </div>
                                <span class="text-red-600 font-semibold">-₦ 1,000</span>
                            </li>
                        </ul>
                    </div>
                </div>
            `;
        };

        const BuyDataPage = () => {
            return `
                <!-- Buy Data Content - Blue Theme -->
                <div class="space-y-6">
                    <h2 class="text-3xl font-extrabold text-white">Buy Data</h2>

                    <div class="bg-white p-6 rounded-xl shadow-lg space-y-4">
                        <div class="mb-4">
                            <label for="network" class="block text-sm font-medium text-gray-700 mb-1">Select Network Provider</label>
                            <select id="network" class="input-field">
                                <option>MTN</option>
                                <option>Airtel</option>
                                <option>Glo</option>
                                <option>9mobile</option>
                            </select>
                        </div>

                        <div class="mb-4">
                            <label for="phone-number" class="block text-sm font-medium text-gray-700 mb-1">Phone Number</label>
                            <input type="tel" id="phone-number" placeholder="Enter recipient phone number" class="input-field" value="0801 234 5678">
                        </div>

                        <div class="mb-4">
                            <label for="data-plan" class="block text-sm font-medium text-gray-700 mb-1">Select Data Plan</label>
                            <select id="data-plan" class="input-field">
                                <option>1GB (7 Days) - ₦250</option>
                                <option>2GB (30 Days) - ₦480</option>
                                <option>5GB (30 Days) - ₦1,200</option>
                                <option>10GB (30 Days) - ₦2,400</option>
                            </select>
                        </div>

                        <button onclick="handleDataPurchase()" class="w-full px-4 py-3 bg-data-bg text-white font-semibold rounded-xl hover:bg-blue-700 transition shadow-lg">
                            <i data-lucide="send" class="w-5 h-5 inline mr-2"></i> Purchase Data
                        </button>
                    </div>

                    <div class="p-4 bg-blue-500/10 rounded-xl text-blue-800 text-sm flex items-start">
                         <i data-lucide="info" class="w-5 h-5 mr-3 flex-shrink-0"></i>
                         Data bundles are delivered instantly to the phone number specified.
                    </div>
                </div>
            `;
        };

        const BuyAirtimePage = () => {
            return `
                <!-- Buy Airtime Content - Red/Orange Theme -->
                <div class="space-y-6">
                    <h2 class="text-3xl font-extrabold text-white">Buy Airtime</h2>

                    <div class="bg-white p-6 rounded-xl shadow-lg space-y-4">
                        <div class="mb-4">
                            <label for="airtime-network" class="block text-sm font-medium text-gray-700 mb-1">Select Network Provider</label>
                            <select id="airtime-network" class="input-field">
                                <option>Airtel</option>
                                <option>MTN</option>
                                <option>Glo</option>
                                <option>9mobile</option>
                            </select>
                        </div>

                        <div class="mb-4">
                            <label for="airtime-phone-number" class="block text-sm font-medium text-gray-700 mb-1">Phone Number</label>
                            <input type="tel" id="airtime-phone-number" placeholder="Enter recipient phone number" class="input-field" value="0801 234 5678">
                        </div>

                        <div class="mb-4">
                            <label for="airtime-amount" class="block text-sm font-medium text-gray-700 mb-1">Amount (₦)</label>
                            <input type="number" id="airtime-amount" placeholder="Enter amount (Min ₦50)" class="input-field" value="1000" min="50">
                        </div>

                        <button onclick="handleAirtimePurchase()" class="w-full px-4 py-3 bg-airtime-bg text-white font-semibold rounded-xl hover:bg-red-700 transition shadow-lg">
                             <i data-lucide="phone-outgoing" class="w-5 h-5 inline mr-2"></i> Top Up Airtime
                        </button>
                    </div>

                     <div class="p-4 bg-red-500/10 rounded-xl text-red-800 text-sm flex items-start">
                         <i data-lucide="credit-card" class="w-5 h-5 mr-3 flex-shrink-0"></i>
                         Enjoy up to 2% discount on all airtime purchases!
                    </div>
                </div>
            `;
        };

        const ProfilePage = () => {
             return `
                <!-- Profile Content - Purple Theme -->
                <div class="space-y-6">
                    <h2 class="text-3xl font-extrabold text-white">Settings & Profile</h2>

                    <div class="bg-white p-6 rounded-xl shadow-lg space-y-6">

                        <div class="flex items-center space-x-4 border-b pb-4">
                            <div class="w-16 h-16 bg-purple-200 rounded-full flex items-center justify-center text-profile-bg text-3xl font-bold">D</div>
                            <div>
                                <p class="text-xl font-bold text-gray-900">David Ogbor</p>
                                <p class="text-sm text-gray-500">david.o@example.com</p>
                            </div>
                        </div>

                        <div class="space-y-4">
                            <p class="text-lg font-semibold text-gray-800">Account Information</p>
                            <div class="border-t pt-3 space-y-3">
                                <p class="text-sm flex justify-between">
                                    <span class="text-gray-500">VTU App ID:</span>
                                    <span class="font-mono text-purple-600">${APP_CODE}</span>
                                </p>
                                <p class="text-sm flex justify-between">
                                    <span class="text-gray-500">Phone:</span>
                                    <span class="font-medium text-gray-800">0801 234 5678</span>
                                </p>
                                <p class="text-sm flex justify-between">
                                    <span class="text-gray-500">Last Login:</span>
                                    <span class="font-medium text-gray-800">Nov 4, 2025, 7:35 PM</span>
                                </p>
                            </div>
                        </div>

                        <div class="space-y-4 pt-4 border-t">
                            <p class="text-lg font-semibold text-gray-800">Security & Preferences</p>
                            <button onclick="showMessage('Password reset link sent to your email.', 'success')" class="w-full flex items-center p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition">
                                <i data-lucide="lock" class="w-5 h-5 text-primary mr-3"></i>
                                Change Password
                                <i data-lucide="chevron-right" class="w-4 h-4 text-gray-400 ml-auto"></i>
                            </button>
                             <button onclick="showMessage('Notifications toggled.', 'success')" class="w-full flex items-center p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition">
                                <i data-lucide="bell" class="w-5 h-5 text-primary mr-3"></i>
                                Notification Settings
                                <i data-lucide="chevron-right" class="w-4 h-4 text-gray-400 ml-auto"></i>
                            </button>
                        </div>

                        <button onclick="showMessage('Successfully logged out.', 'success')" class="w-full px-4 py-3 bg-gray-700 text-white font-semibold rounded-xl hover:bg-black transition shadow-lg">
                            <i data-lucide="log-out" class="w-5 h-5 inline mr-2"></i> Log Out
                        </button>
                    </div>
                </div>
            `;
        };

        // --- Event Handlers ---

        function handleDataPurchase() {
            const network = document.getElementById('network').value;
            const phone = document.getElementById('phone-number').value;
            const plan = document.getElementById('data-plan').value;
            showMessage(`Successfully purchased ${plan} for ${network} number ${phone}.`, 'success');

        }

        function handleAirtimePurchase() {
            const network = document.getElementById('airtime-network').value;
            const phone = document.getElementById('airtime-phone-number').value;
            const amount = document.getElementById('airtime-amount').value;
             if (parseFloat(amount) < 50) {
                 showMessage('Minimum airtime amount is ₦50.', 'No Funds');
                 return;
             }
            showMessage(`Successfully topped up ₦${amount} airtime on ${network} number ${phone}.`, 'success');
        }


      
        // --- Page Renderer ---

        const pageComponents = {
            'Dashboard': { component: DashboardPage, bgColor: 'bg-indigo-500/95', header: 'text-white' },
            'BuyData': { component: BuyDataPage, bgColor: 'bg-data-bg/95', header: 'text-white' },
            'BuyAirtime': { component: BuyAirtimePage, bgColor: 'bg-airtime-bg/95', header: 'text-white' },
            'Profile': { component: ProfilePage, bgColor: 'bg-profile-bg/95', header: 'text-white' },
        };

        function renderPage(pageName) {
            if (!pageComponents[pageName]) return;

            currentPage = pageName;
            const { component, bgColor } = pageComponents[pageName];

            // 1. Update the background color of the main content area
            CONTENT_EL.className = 'page-container p-4 sm:p-6 max-w-4xl mx-auto rounded-b-xl shadow-xl ' + bgColor;

            // 2. Render the content
            CONTENT_EL.innerHTML = `<div id="message-box-container" class="sticky top-0 z-20"> </div>` + component();

            // 3. Re-initialize Lucide Icons for the new content
            lucide.createIcons();

            // 4. Update the mobile navigation active state
            document.querySelectorAll('.nav-item').forEach(el => {
                el.classList.remove('active-nav');
            });
            const activeNav = document.getElementById(`nav-${pageName}`);
            if (activeNav) {
                activeNav.classList.add('active-nav');
            }
        }

        // Initialize the app on page load
        window.onload = () => {
            // Set the VTU Code on the desktop view
            document.getElementById('app-code').textContent = APP_CODE;
            renderPage('Dashboard');
        };

    </script>
</body>
</html>
